<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>NoSQL: Introduction - Binwei's Blog</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Binwei's Blog</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Welcome to Binwei's Blog</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">2017</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../authenticate_by_openidconnect/" class="dropdown-item">Authenticate Node.js App by OpenId Connect</a>
</li>
                                    
<li>
    <a href="../bash_useful_commands/" class="dropdown-item">How to Become an Outlier</a>
</li>
                                    
<li>
    <a href="../become_outlier/" class="dropdown-item">How to Become an Outlier</a>
</li>
                                    
<li>
    <a href="../blockchain_introduction/" class="dropdown-item">Blockchain Introduction</a>
</li>
                                    
<li>
    <a href="../book-bian_zhi_lin_shi_xuan/" class="dropdown-item">Book notes: Bian Zhi Lin Anthology</a>
</li>
                                    
<li>
    <a href="../book-cai_gen_tan/" class="dropdown-item">Book Notes: Cai Gen Tan</a>
</li>
                                    
<li>
    <a href="../cloud_for_dummy/" class="dropdown-item">Cloud for Dummy</a>
</li>
                                    
<li>
    <a href="../devops_and_continuous_delivery/" class="dropdown-item">DevOps and Continuous Delivery</a>
</li>
                                    
<li>
    <a href="../domain_driven_design_introduction/" class="dropdown-item">Domain Driven Design: Introduction</a>
</li>
                                    
<li>
    <a href="../git_areas/" class="dropdown-item">Git: Areas</a>
</li>
                                    
<li>
    <a href="../git_branch-basic/" class="dropdown-item">Git: Branch Basic</a>
</li>
                                    
<li>
    <a href="../git_branch-continued/" class="dropdown-item">Git: Branch Continue</a>
</li>
                                    
<li>
    <a href="../git_getting-started/" class="dropdown-item">Git: Getting Started</a>
</li>
                                    
<li>
    <a href="../git_resolve-conflicts/" class="dropdown-item">Git: Resolve Conflicts</a>
</li>
                                    
<li>
    <a href="../how_to_read_books/" class="dropdown-item">How to Read Books</a>
</li>
                                    
<li>
    <a href="../introduction_to_javascript/" class="dropdown-item">Introduction to Javascript</a>
</li>
                                    
<li>
    <a href="../job_security/" class="dropdown-item">Job Security</a>
</li>
                                    
<li>
    <a href="../kotter_binwei_change_model/" class="dropdown-item">Kotter-Binwei Change Model</a>
</li>
                                    
<li>
    <a href="../lean_principles/" class="dropdown-item">Lean: Principles</a>
</li>
                                    
<li>
    <a href="../lean_toolkit_for_software_development/" class="dropdown-item">Lean Toolkit for Software Development</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">NoSQL: Introduction</a>
</li>
                                    
<li>
    <a href="../security_owasp_top_10/" class="dropdown-item">Security: Owasp Top 10</a>
</li>
                                    
<li>
    <a href="../setup-blog_using-sphinx-ablog/" class="dropdown-item">Setup Blog: Using Sphinx and Ablog</a>
</li>
                                    
<li>
    <a href="../specification_by_example/" class="dropdown-item">Specification by Example</a>
</li>
                                    
<li>
    <a href="../technology_to_learn_next/" class="dropdown-item">Technology to Learn Next</a>
</li>
                                    
<li>
    <a href="../telemetry_overview/" class="dropdown-item">Telemetry: Overview</a>
</li>
                                    
<li>
    <a href="../the_art_of_simplicity/" class="dropdown-item">The Art of Simplicity</a>
</li>
                                    
<li>
    <a href="../the_effective_executive/" class="dropdown-item">The Effective Executive</a>
</li>
                                    
<li>
    <a href="../the_mckinsey_engagement/" class="dropdown-item">The Mckinsey Engagement</a>
</li>
                                    
<li>
    <a href="../the_mythical_deadline_of_peopleware_man_month/" class="dropdown-item">The Mythical Deadline of Peopleware Man-month</a>
</li>
                                    
<li>
    <a href="../threat_modeling_introduction/" class="dropdown-item">Threat Modeling: Introduction</a>
</li>
                                    
<li>
    <a href="../vi_configuration-example/" class="dropdown-item">Vi: Configuration Example</a>
</li>
                                    
<li>
    <a href="../work_in_big_company/" class="dropdown-item">Work in Big Company</a>
</li>
                                    
<li>
    <a href="../xunit_test_patterns/" class="dropdown-item">Xunit Test Patterns</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">2018</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../2018/ai_for_smartcities/" class="dropdown-item">AI for Smart Cities</a>
</li>
                                    
<li>
    <a href="../../2018/authentication_authorization_explainations/" class="dropdown-item">Authentication &amp; Authorization Basic</a>
</li>
                                    
<li>
    <a href="../../2018/blockchain_scenario/" class="dropdown-item">Blockchain Scenario</a>
</li>
                                    
<li>
    <a href="../../2018/career_advice/" class="dropdown-item">职场菜根谭</a>
</li>
                                    
<li>
    <a href="../../2018/cryptography_introduction/" class="dropdown-item">Cryptography Introduction (with .NET code example)</a>
</li>
                                    
<li>
    <a href="../../2018/docker_introduction/" class="dropdown-item">Docker Introduction</a>
</li>
                                    
<li>
    <a href="../../2018/https/" class="dropdown-item">Https Explainations</a>
</li>
                                    
<li>
    <a href="../../2018/microservices_introduction/" class="dropdown-item">Microservices Introduction</a>
</li>
                                    
<li>
    <a href="../../2018/nodejs_basics/" class="dropdown-item">Node.js Basics</a>
</li>
                                    
<li>
    <a href="../../2018/personal_branding/" class="dropdown-item">Personal Branding</a>
</li>
                                    
<li>
    <a href="../../2018/the_personal_mba/" class="dropdown-item">The Personal MBA</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">2019</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../2019/agile_selling/" class="dropdown-item">Agile Selling</a>
</li>
                                    
<li>
    <a href="../../2019/application_insight_introduction/" class="dropdown-item">Application Insight Introduction</a>
</li>
                                    
<li>
    <a href="../../2019/azure_datalake_warehouse/" class="dropdown-item">Azure Data Lake and Warehouse</a>
</li>
                                    
<li>
    <a href="../../2019/azure_security/" class="dropdown-item">Azure Security</a>
</li>
                                    
<li>
    <a href="../../2019/cyber_security_for_blockchain/" class="dropdown-item">Cyber Security for Blockchain</a>
</li>
                                    
<li>
    <a href="../../2019/iot_for_smartcities/" class="dropdown-item">Iot for Smart Cities</a>
</li>
                                    
<li>
    <a href="../../2019/machine_learning_basic/" class="dropdown-item">Machine Learning Basic</a>
</li>
                                    
<li>
    <a href="../../2019/user_story_applied/" class="dropdown-item">User Story Applied</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">2020</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../2020/about_consulting/" class="dropdown-item">About Consulting</a>
</li>
                                    
<li>
    <a href="../../2020/arduino_introduction/" class="dropdown-item">Arduino Introduction</a>
</li>
                                    
<li>
    <a href="../../2020/azure_design_pattern/" class="dropdown-item">Azure Design Pattern</a>
</li>
                                    
<li>
    <a href="../../2020/china_70_anniversary_bigdata/" class="dropdown-item">China 70 Anniversary Big Data</a>
</li>
                                    
<li>
    <a href="../../2020/data_science_basic/" class="dropdown-item">Data Science Basic</a>
</li>
                                    
<li>
    <a href="../../2020/enlightenment_from_singing/" class="dropdown-item">Enlightenment from Singing</a>
</li>
                                    
<li>
    <a href="../../2020/intelligent_web_sentences/" class="dropdown-item">Intelligent Web Sentences</a>
</li>
                                    
<li>
    <a href="../../2020/mac_tips/" class="dropdown-item">Mac Tips</a>
</li>
                                    
<li>
    <a href="../../2020/xiao_gou_qian_qian/" class="dropdown-item">Book note: Xiao Gou Qian Qian</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">2021</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../2021/measure_anything/" class="dropdown-item">Measure Anything</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../lean_toolkit_for_software_development/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../security_owasp_top_10/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#nosql-introduction" class="nav-link">NoSQL: Introduction</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#table-of-contents" class="nav-link">Table of Contents</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#motivation" class="nav-link">Motivation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#simplicity-of-design" class="nav-link">Simplicity of design</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#horizontal-scaling" class="nav-link">Horizontal scaling</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#finer-control-over-availability" class="nav-link">Finer control over availability</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#category" class="nav-link">Category</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#key-value-store" class="nav-link">Key-value store</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#document-database" class="nav-link">Document database</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#column-family" class="nav-link">Column-family</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#graph-database" class="nav-link">Graph database</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#technical-concepts" class="nav-link">Technical concepts</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#map-reduce-pattern" class="nav-link">Map-reduce pattern</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#eventual-consistency" class="nav-link">Eventual consistency</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#references" class="nav-link">References</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="nosql-introduction">NoSQL: Introduction</h1>
<p><strong>Published:</strong> May 1, 2017
<strong>Tags:</strong> database, nosql
<strong>Category:</strong> ComputerScience</p>
<p>NoSQL originally refers to "non SQL", "non relational", or "not only SQL". NoSQL databases are increasingly used in big data and real-time web applications.
NoSQL databases are not replacing relational database, there are scenarios only fit for NoSQL database. This blog give a brief introduction of NoSQL databases.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<h2 id="motivation">Motivation</h2>
<p>The benefits you can get from NoSQL include:</p>
<h2 id="simplicity-of-design">Simplicity of design</h2>
<p>In relational database, the application developers need to design the database scheme to store the data.
There is difference between the schema and the in-memory data structure. Then the developers need to handle this 'gap'. This effort is not delivering business value.</p>
<p>Relational database world invents ORM (Object-Relational-Mapping) to mitigate this challenge.</p>
<h2 id="horizontal-scaling">Horizontal scaling</h2>
<p>Horizontal scaling means that you scale by adding more machines into your pool of resources whereas Vertical scaling means that you scale by adding more power (CPU, RAM) to an existing machine.</p>
<p>NoSQL databases have better support for simpler "horizontal" scaling to clusters of machines (which is a problem for relational databases)</p>
<p>A cluster of small machines can use commodity hardware and ends up being cheaper at these kinds of scale.</p>
<h2 id="finer-control-over-availability">Finer control over availability</h2>
<p>There is a common need to ensure the service availability. When one node is down, the backup should take effect.</p>
<p>It requires replication mechanism, which means to take the same data and copy it over multiple nodes</p>
<p>There are two kinds of replication methods:</p>
<p><em>Master-slave replication:</em>
Is a one-way replication (from master to slave), only the master database is used for the write operations, while read operations may be spread on multiple slave databases. It reduces the chances of update conflict.</p>
<p><em>Peer-to-peer replication:</em>
It is bi-directional replication, each database (nodes) is publisher and subscriber. If any node goes down, the application will still be functional.
Later, once the node is up it can be again brought in sync.
This way we can achieve both high availability and fault tolerance.
It can avoid loading all writes onto a single point of failure.</p>
<p>Sharding is also important, which is to put different data on different nodes.</p>
<h2 id="category">Category</h2>
<p>In general, there are 4 categories NoSQL databases in NoSQL ecosystem:</p>
<h2 id="key-value-store">Key-value store</h2>
<p>Key-value store is the simplest NoSQL database. The basic data structure is a dictionary or map.
Key-value databases are well-suited to applications that have frequent small reads and writes along with simple data models.</p>
<p>Aggregate is a collection of related objects that we wish to treat as a unit, which is indexed by a key that you can use of lookup.
Aggregate is opaque to database which is just some big blob of mostly meaningless bits.
Key-value store cannot run query not retrieve a part of the aggregate.</p>
<p>Examples: Riak, Redis, Memcached, Berkely DB, Hamster DB, Amazon's Dynamo, Project Voldemort</p>
<h2 id="document-database">Document database</h2>
<p>Document databases extend the concept of the key-value database. Document databases maintain sets of key-value pairs within a document.
So document database is able to see a structure in the aggregate, which allows queries and partial retrievals.</p>
<p>Document database is flexible which does not require schema.</p>
<p>Examples: MongoDB, Couch DB, Terrastore, OrientDB, RavenDB, Notes Storage Facility</p>
<h2 id="column-family">Column-family</h2>
<p>Column-family databases are designed for large volumes of data, read and write performance, and high availability. If your data is small enough to run with a single server, then a column family database is probably more than you need - consider a document or key-value database instead.</p>
<p>Column-family databases store data in column families as rows that have many columns associated with a row key.
Column-families are groups of related data that is often accessed together.</p>
<p>Column-family database has two-level aggregate structure, which allows you to store data with keys mapped to values and the values grouped into multiple column families, each column family being a map of data.</p>
<p><img alt="image" src="../images/nosqlcolumnfamily.png" /></p>
<p>Each column family can be compared to a container of rows in an RDBMS table where the key identifies the row and the row consists of multiple columns.
The differences are:
* various rows do not have to have the same columns
* columns can be added to any row at any time without having to add it to other rows.</p>
<p>Examples: Cassandra, Hbase, Hypertable, Amazon SimpleDB</p>
<h2 id="graph-database">Graph database</h2>
<p>Graph databases allow you to store entities and relationships between these entities.</p>
<p>In graph databases, traversing the joins or relationships is very fast. The relationship between nodes is not calculated at query time but is actually persisted as a relationship.
It means graph databases do not allow dangling relationship, and nodes can only be deleted if they don't have any relationships attached to them.</p>
<p>Examples: Neo4j, OrientDB, Infinite Graph</p>
<h2 id="technical-concepts">Technical concepts</h2>
<p>There are several technical concepts relevant to NoSQL databases.</p>
<h2 id="map-reduce-pattern">Map-reduce pattern</h2>
<p>Map is a function whose input is a single aggregate and whose output is a bunch of key-value pairs.</p>
<p>Reduce takes multiple map outputs with the same key and combines their values.</p>
<p>While the map function is limited to working only on data from a single aggregate, the reduce function can use all values emitted for a single key.</p>
<h2 id="eventual-consistency">Eventual consistency</h2>
<p>Many NoSQL stores compromise consistency in favor of availability, partition tolerance, and speed.</p>
<p>Instead, most NoSQL databases offer a concept of "eventual consistency" in which database changes are propagated to all nodes "eventually" (typically within milliseconds) so queries for data might not return updated data immediately or might result in reading data that is not accurate, a problem known as stale reads.</p>
<p>Additionally, some NoSQL systems may exhibit lost writes and other forms of data loss.</p>
<p>Fortunately, some NoSQL systems provide concepts such as write-ahead logging to avoid data loss.</p>
<p>For distributed transaction processing across multiple databases, data consistency is an even bigger challenge that is difficult for both NoSQL and relational databases.</p>
<h2 id="references">References</h2>
<p>NoSQL Distilled, book by Pramod J. Sadalage and Martin Fowler</p>
<p><a href="https://www.thoughtworks.com/insights/blog/nosql-databases-overview/">Thoughtworks NoSQL databases overview </a>.</p>
<p><em>Written by Binwei@Oslo</em></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>

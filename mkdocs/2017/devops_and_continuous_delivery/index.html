<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>DevOps and Continuous Delivery - Binwei's Blog</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Binwei's Blog</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Welcome to Binwei's Blog</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">2017</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../authenticate_by_openidconnect/" class="dropdown-item">Authenticate Node.js App by OpenId Connect</a>
</li>
                                    
<li>
    <a href="../bash_useful_commands/" class="dropdown-item">How to Become an Outlier</a>
</li>
                                    
<li>
    <a href="../become_outlier/" class="dropdown-item">How to Become an Outlier</a>
</li>
                                    
<li>
    <a href="../blockchain_introduction/" class="dropdown-item">Blockchain Introduction</a>
</li>
                                    
<li>
    <a href="../book-bian_zhi_lin_shi_xuan/" class="dropdown-item">Book notes: Bian Zhi Lin Anthology</a>
</li>
                                    
<li>
    <a href="../book-cai_gen_tan/" class="dropdown-item">Book Notes: Cai Gen Tan</a>
</li>
                                    
<li>
    <a href="../cloud_for_dummy/" class="dropdown-item">Cloud for Dummy</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">DevOps and Continuous Delivery</a>
</li>
                                    
<li>
    <a href="../domain_driven_design_introduction/" class="dropdown-item">Domain Driven Design: Introduction</a>
</li>
                                    
<li>
    <a href="../git_areas/" class="dropdown-item">Git: Areas</a>
</li>
                                    
<li>
    <a href="../git_branch-basic/" class="dropdown-item">Git: Branch Basic</a>
</li>
                                    
<li>
    <a href="../git_branch-continued/" class="dropdown-item">Git: Branch Continue</a>
</li>
                                    
<li>
    <a href="../git_getting-started/" class="dropdown-item">Git: Getting Started</a>
</li>
                                    
<li>
    <a href="../git_resolve-conflicts/" class="dropdown-item">Git: Resolve Conflicts</a>
</li>
                                    
<li>
    <a href="../how_to_read_books/" class="dropdown-item">How to Read Books</a>
</li>
                                    
<li>
    <a href="../introduction_to_javascript/" class="dropdown-item">Introduction to Javascript</a>
</li>
                                    
<li>
    <a href="../job_security/" class="dropdown-item">Job Security</a>
</li>
                                    
<li>
    <a href="../kotter_binwei_change_model/" class="dropdown-item">Kotter-Binwei Change Model</a>
</li>
                                    
<li>
    <a href="../lean_principles/" class="dropdown-item">Lean: Principles</a>
</li>
                                    
<li>
    <a href="../lean_toolkit_for_software_development/" class="dropdown-item">Lean Toolkit for Software Development</a>
</li>
                                    
<li>
    <a href="../nosql_introduction/" class="dropdown-item">NoSQL: Introduction</a>
</li>
                                    
<li>
    <a href="../security_owasp_top_10/" class="dropdown-item">Security: Owasp Top 10</a>
</li>
                                    
<li>
    <a href="../setup-blog_using-sphinx-ablog/" class="dropdown-item">Setup Blog: Using Sphinx and Ablog</a>
</li>
                                    
<li>
    <a href="../specification_by_example/" class="dropdown-item">Specification by Example</a>
</li>
                                    
<li>
    <a href="../technology_to_learn_next/" class="dropdown-item">Technology to Learn Next</a>
</li>
                                    
<li>
    <a href="../telemetry_overview/" class="dropdown-item">Telemetry: Overview</a>
</li>
                                    
<li>
    <a href="../the_art_of_simplicity/" class="dropdown-item">The Art of Simplicity</a>
</li>
                                    
<li>
    <a href="../the_effective_executive/" class="dropdown-item">The Effective Executive</a>
</li>
                                    
<li>
    <a href="../the_mckinsey_engagement/" class="dropdown-item">The Mckinsey Engagement</a>
</li>
                                    
<li>
    <a href="../the_mythical_deadline_of_peopleware_man_month/" class="dropdown-item">The Mythical Deadline of Peopleware Man-month</a>
</li>
                                    
<li>
    <a href="../threat_modeling_introduction/" class="dropdown-item">Threat Modeling: Introduction</a>
</li>
                                    
<li>
    <a href="../vi_configuration-example/" class="dropdown-item">Vi: Configuration Example</a>
</li>
                                    
<li>
    <a href="../work_in_big_company/" class="dropdown-item">Work in Big Company</a>
</li>
                                    
<li>
    <a href="../xunit_test_patterns/" class="dropdown-item">Xunit Test Patterns</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">2018</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../2018/ai_for_smartcities/" class="dropdown-item">AI for Smart Cities</a>
</li>
                                    
<li>
    <a href="../../2018/authentication_authorization_explainations/" class="dropdown-item">Authentication &amp; Authorization Basic</a>
</li>
                                    
<li>
    <a href="../../2018/blockchain_scenario/" class="dropdown-item">Blockchain Scenario</a>
</li>
                                    
<li>
    <a href="../../2018/career_advice/" class="dropdown-item">职场菜根谭</a>
</li>
                                    
<li>
    <a href="../../2018/cryptography_introduction/" class="dropdown-item">Cryptography Introduction (with .NET code example)</a>
</li>
                                    
<li>
    <a href="../../2018/docker_introduction/" class="dropdown-item">Docker Introduction</a>
</li>
                                    
<li>
    <a href="../../2018/https/" class="dropdown-item">Https Explainations</a>
</li>
                                    
<li>
    <a href="../../2018/microservices_introduction/" class="dropdown-item">Microservices Introduction</a>
</li>
                                    
<li>
    <a href="../../2018/nodejs_basics/" class="dropdown-item">Node.js Basics</a>
</li>
                                    
<li>
    <a href="../../2018/personal_branding/" class="dropdown-item">Personal Branding</a>
</li>
                                    
<li>
    <a href="../../2018/the_personal_mba/" class="dropdown-item">The Personal MBA</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">2019</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../2019/agile_selling/" class="dropdown-item">Agile Selling</a>
</li>
                                    
<li>
    <a href="../../2019/application_insight_introduction/" class="dropdown-item">Application Insight Introduction</a>
</li>
                                    
<li>
    <a href="../../2019/azure_datalake_warehouse/" class="dropdown-item">Azure Data Lake and Warehouse</a>
</li>
                                    
<li>
    <a href="../../2019/azure_security/" class="dropdown-item">Azure Security</a>
</li>
                                    
<li>
    <a href="../../2019/cyber_security_for_blockchain/" class="dropdown-item">Cyber Security for Blockchain</a>
</li>
                                    
<li>
    <a href="../../2019/iot_for_smartcities/" class="dropdown-item">Iot for Smart Cities</a>
</li>
                                    
<li>
    <a href="../../2019/machine_learning_basic/" class="dropdown-item">Machine Learning Basic</a>
</li>
                                    
<li>
    <a href="../../2019/user_story_applied/" class="dropdown-item">User Story Applied</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">2020</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../2020/about_consulting/" class="dropdown-item">About Consulting</a>
</li>
                                    
<li>
    <a href="../../2020/arduino_introduction/" class="dropdown-item">Arduino Introduction</a>
</li>
                                    
<li>
    <a href="../../2020/azure_design_pattern/" class="dropdown-item">Azure Design Pattern</a>
</li>
                                    
<li>
    <a href="../../2020/china_70_anniversary_bigdata/" class="dropdown-item">China 70 Anniversary Big Data</a>
</li>
                                    
<li>
    <a href="../../2020/data_science_basic/" class="dropdown-item">Data Science Basic</a>
</li>
                                    
<li>
    <a href="../../2020/enlightenment_from_singing/" class="dropdown-item">Enlightenment from Singing</a>
</li>
                                    
<li>
    <a href="../../2020/intelligent_web_sentences/" class="dropdown-item">Intelligent Web Sentences</a>
</li>
                                    
<li>
    <a href="../../2020/mac_tips/" class="dropdown-item">Mac Tips</a>
</li>
                                    
<li>
    <a href="../../2020/xiao_gou_qian_qian/" class="dropdown-item">Book note: Xiao Gou Qian Qian</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">2021</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../2021/measure_anything/" class="dropdown-item">Measure Anything</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../cloud_for_dummy/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../domain_driven_design_introduction/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#devops-and-continuous-delivery" class="nav-link">DevOps and Continuous Delivery</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#table-of-contents" class="nav-link">Table of Contents</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#devops" class="nav-link">DevOps</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#relationship-with-lean" class="nav-link">Relationship with Lean</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#reorgnization" class="nav-link">Reorgnization</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#tools" class="nav-link">Tools</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#others-practices" class="nav-link">Others practices</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#continuous-delivery" class="nav-link">Continuous Delivery</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#deployment-pipeline" class="nav-link">Deployment pipeline</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#manage-changes" class="nav-link">Manage changes</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#automate-test-suite" class="nav-link">Automate test suite</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#acceptance-testing" class="nav-link">Acceptance testing</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#non-functional-requirement" class="nav-link">Non-functional requirement</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#distributed-version-control-system" class="nav-link">Distributed version control system</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#brach-by-feature" class="nav-link">Brach by feature</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#give-developers-ownership" class="nav-link">Give developers ownership</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#roll-back" class="nav-link">Roll back</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#release-experience" class="nav-link">Release experience</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#essential-practices" class="nav-link">Essential practices</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#other-practices" class="nav-link">Other practices</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="devops-and-continuous-delivery">DevOps and Continuous Delivery</h1>
<p><strong>Published:</strong> Sep 01, 2017
<strong>Tags:</strong> booknotes, process, devops, continuousdelivery
<strong>Category:</strong> ComputerScience</p>
<p>DevOps and continuous delivery are two hot topics these days, which play more and more important role in software development especially for the SaaS (Software as a Service) solution.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<h1 id="devops">DevOps</h1>
<p>DevOps is a software development and delivery process that emphasizes communication and collaboration between product management, software development, and operations professionals.
It supports this by automating and monitoring the process of software integration, testing, deployment, and infrastructure changes by establishing a culture and environment where building, testing, and releasing software can happen rapidly, frequently, and more reliably.</p>
<p>Development teams are incentivized to deliver software as rapidly as possible, whereas operations teams aim for stability.
DevOps strives to bring these two into one team.</p>
<p>The key of DevOps is to Add value and Improve flow.</p>
<h2 id="relationship-with-lean">Relationship with Lean</h2>
<p>Lean has the following principles:</p>
<ul>
<li>Focus on customer value</li>
<li>Eliminate waste</li>
<li>Reduce cycle time</li>
<li>Shared learning</li>
<li>Avoid batching</li>
<li>Theory of constraints</li>
</ul>
<p>DevOps emphasize on the followings:</p>
<ul>
<li>Culture</li>
<li>Automation</li>
<li>Monitoring</li>
<li>Sharing</li>
</ul>
<p>DevOps is the result of implementing Lean principles to IT value stream.
-- Gene Kim</p>
<p>DevOps encourage culture changes, and emphasize the followings:</p>
<ul>
<li>Empowerment</li>
<li>Accountability</li>
<li>Teamwork</li>
</ul>
<h2 id="reorgnization">Reorgnization</h2>
<p>Organizations which design systems... are constrained to produce designs which are copies of the communication structures of these organizations.
-- Conway's law</p>
<p>Specialist encourage silos.
Reorg the team as 'Service team'.
Project is too dynamic.</p>
<p>Spotify model is very interesting.</p>
<p><img alt="image" src="../images/spotifymodel.png" /></p>
<h2 id="tools">Tools</h2>
<p>Use the right tool is important for DevOps, for DevOps there are tools to cover the whole life cycle.</p>
<ul>
<li>Collaboration: wiki in Github, Blog</li>
<li>Planning: Trello</li>
<li>Issue tracking: ZENDESK</li>
<li>Configuration management: treat infrastructure as code, Chef, Salt, Puppet, Ansible, Powershell DSC</li>
<li>Source control: Github</li>
<li>Dev environment: CodeNVY, Vagrant</li>
<li>Continuous integration: Jenkins, Travis CI,</li>
<li>Continuous deployment: Cloudformation (Amazon), Packer, Docker, Octopus, Go (thoughtworks), Octopus deploy</li>
</ul>
<p>Application Logging &amp; Metrics</p>
<ul>
<li>ELMAH (Error Logging Modules and Handlers), NLog, Log4Net</li>
<li>Serilog + Seq</li>
<li>ELK - Elastic Search, LogStash, Kibana</li>
<li>Application Insights</li>
<li>RayGun.io</li>
<li>HockeyApp (for mobile)</li>
<li>Stackify</li>
<li>NewRelic</li>
</ul>
<p>Operation:</p>
<ul>
<li>Microsoft system center</li>
<li>Splunk</li>
</ul>
<p>Process Metrics</p>
<ul>
<li>Sprint Velocity</li>
<li>Time spent by testers</li>
<li>Time spent deploying</li>
<li>Time spent getting a new developer up to speed</li>
</ul>
<p>Code Metrics</p>
<ul>
<li>Code Analysis</li>
<li>SSW Code Auditor</li>
<li>SonarQube</li>
</ul>
<p><img alt="image" src="../images/devopslifecycle.png" /></p>
<p>https://xebialabs.com/periodic-table-of-devops-tools/</p>
<h2 id="others-practices">Others practices</h2>
<p>You can't take your Puppet scripts and push them to a Chef agent, nor can you do the reverse.
Puppet/Chef/etc are fully integrated stacks - and they're proprietary stacks</p>
<p>Microsoft isn't pushing DSC as a fully integrated stack.
DSC is just the bottom layer that accepts a configuration and implements it.
Puppet Labs could absolutely design their product to turn Puppet scripts into the MOF file that DSC needs.</p>
<h1 id="continuous-delivery">Continuous Delivery</h1>
<p>We want to deliver software often and deliver value to customers quicker. Continuous Delivery is important.</p>
<p>Anti patterns</p>
<ul>
<li>Deploying software manually</li>
<li>Deploying to a production-like-environment only after development is complete (staging)</li>
<li>Manual configuration management of production environment</li>
</ul>
<p>The principles, practices, and techniques are aimed at making release boring.</p>
<h2 id="deployment-pipeline">Deployment pipeline</h2>
<p>The deployment pipeline:</p>
<ul>
<li>Commit Stage: Compile, Unit test, Analysis, Build installer</li>
<li>Automated acceptance testing</li>
<li>Automated capacity testing</li>
<li>Manual testing: Showcases, Exploratory testing</li>
<li>Release</li>
</ul>
<p>Ideally, a commit stage should take less than five minutes to run, and certainly no more than ten</p>
<p>The aim of the deployment pipeline is threefold:</p>
<ul>
<li>It makes every part of the process of building, deploying, testing and releasing software visible to everybody involved, aiding collaboration</li>
<li>It improves feedback so that problems are identified and so resolved, as early in the process as possible</li>
<li>It enables teams to deploy and release any version of their software to any environment at will through a fully automated process</li>
</ul>
<p>Any stages that deploy the binaries to a production-like environment for manual testing or release purposes should require you to press a button in order to select the version to deploy, and this capability will usually require authorization.</p>
<p>The deployment pipeline implementation you create should record every time a process starts and finishes, and what the exact changes were that went through each stage of your process.</p>
<p>We need to automate the deployment pipeline gradually over time.</p>
<p>If it hurts, do it more frequently, and bring the pain forward.
More frequent releases lead to lower risk in putting out any particular release</p>
<p>Create a script for each stage in your deployment pipeline</p>
<h2 id="manage-changes">Manage changes</h2>
<p>A working software can be decomposed into four categories: executable code, configuration, host environment, and data.
If any of them changes, the behavior changes.
Therefore we need to keep all these four of these components under control and ensure that a change in any one of them is verified.</p>
<p>Configuration management of every application should be planned as part of project inception.</p>
<h2 id="automate-test-suite">Automate test suite</h2>
<p><img alt="image" src="../images/testtypes.png" /></p>
<p>Automated Test Suite</p>
<p>Two stages:</p>
<ul>
<li>Compile the software, run your suite of unit tests, create deployable binary (Commit stage)</li>
<li>Take the binaries from first stage and run acceptance tests, integration tests, performance tests concurrently</li>
</ul>
<p>Make sure that the automated tests, including smoke tests can be run on developer machines.</p>
<p>Test automation pyramid - Mike Cohn</p>
<h2 id="acceptance-testing">Acceptance testing</h2>
<p>The goal of the acceptance test stage is to assert that the system delivers the value the customer is expecting and that it meets the acceptance criteria.
The reality is that the whole team owns the acceptance tests
Acceptance tests should be expressed in the language of the business, not in the language of the technology of the application.</p>
<p>Acceptance criteria: Given, When, Then</p>
<p>Test implementation layer: code uses domain language; no reference to UI elements</p>
<p>Application driver layer: understands how to interact with the application to perform actions and return results</p>
<p>The objective of acceptance testing is to prove that our application does what the customer meant it to, not that it works the way its programmers think it should.</p>
<p>An application written with testability in mind will have an API that both the GUI and the test harness can talk to in order to drive the application.</p>
<h2 id="non-functional-requirement">Non-functional requirement</h2>
<p>While in an ideal world everyone wants their systems to be highly secure, very high performance, massively flexible, extremely scalable, easy to use, easy to support, and simple to develop and maintain, in reality every one of these characteristics comes at a cost.</p>
<p>Every architecture involves some trade-off between nonfunctional requirements - hence the Software Engineering Institute's Architecture Tradeoff Analysis Model (ATAM) designed to help teams decide upon a suitable architecture by a thorough analysis of its NFR (nonfunctional requirement, referred to as 'quality attributes')</p>
<p>Here are some types of measurements that can be performed:</p>
<ul>
<li>Scalability testing. How do the response time of an individual request and the number of possible simultaneous users change as we add more servers, services, or threads?</li>
<li>Longevity testing. This involves running the system for a long time to see if the performance changes over a protracted period of operation. This type of testing can catch memory leaks or stability problems</li>
<li>Throughput testing. How many transactions, or messages, or page hits per second can the system handle?</li>
<li>Load testing. What happens to capacity when the load on the application increases to production-like proportions and beyond? This is perhaps the most common class of capacity testing.</li>
<li>Capacity testing. Is one of the few situations where virtualisation is not appropriate (unless your production environment is virtual) because of the performance overhead it introduces</li>
</ul>
<h2 id="distributed-version-control-system">Distributed version control system</h2>
<p>The core characteristic of a distributed version control system (DVCSs) is that every repository contains the entire history of the project, which means that no repository is privileged except by convention.</p>
<p>In the GitHub model, contributors are made by first forking the repository of the project you wish to contribute to, making your changes, and then asking the owners of the original repository to pull your changes.</p>
<p>A particular release of the software could come from any of the forks, provided it passed all the tests and was accepted by the project leaders.</p>
<p>DVCSs can be extremely effective as part of a traditional continuous integration system, in which there is designated central repository to which everybody regularly pushes their changes.</p>
<h2 id="brach-by-feature">Brach by feature</h2>
<p>This pattern is designed to make it easier for large teams to work simultaneously on features while keeping mainline in a releasable state.
Every story or feature is developed on a separate branch.
Only after a story is accepted by testers, it is merged to mainline so as to ensure that mainline is always releasable.</p>
<p>Prerequisites:</p>
<ul>
<li>Any changes from mainline must be merged onto every branch on a daily basis</li>
<li>Branches must be short-lived, ideally less than a few days, never more than an iteration</li>
<li>The number of active branches that exist at any time must be limited to the number of stories in play. Nobody should start a new branch unless the branch representing their previous story is merged back to mainline.</li>
<li>Consider having testers accept stories before they are merged. Only allow developers to merge to trunk once a story has been accepted</li>
<li>Refactorings must be merged immediately to minimize merge conflicts. This constraint is important but can be painful, and further limits the utility of this pattern</li>
<li>Part of the technical lead's role is to be responsible for keeping the trunk releasable. The tech lead should review all merges, perhaps in patch form. The tech lead has the right to reject patches that may potentially break the trunk.</li>
</ul>
<h2 id="give-developers-ownership">Give developers ownership</h2>
<p>At some organizations, there are teams of specialists who are experts at the creation of effective, modular build pipelines and the management of the environments in which they run.</p>
<p>Run-of-the-mill changes, such as adding new libraries, configuration files, and so on, should be performed by developers and operations people working together as they find the need to do so.</p>
<p>This kind of activity should not be done by a build specialist, except perhaps in the very early days of a project when the team is working to establish the build.
We consider it a failure if we got to the point where only those specialists can maintain the CI system.</p>
<p>The expertise of specialists is not to be undervalued, but their goal should be to establish good structures, patterns, and use of technology, and to transfer their knowledge to the delivery team.
Once these ground rules are established, their specialist expertise should only be needed for significant structural shifts, not regular day-to-day build maintenance.</p>
<h2 id="roll-back">Roll back</h2>
<p>It is essential to be able to roll back a deployment in case it goes wrong.</p>
<p>Two important constraints:</p>
<ul>
<li>Data, if your release process makes changes to your data, it can be hard to roll back.</li>
<li>The other systems you integrate with. With releases involving more than one system (known as orchestrated releases), the rollback process becomes more complex too.</li>
</ul>
<p>Rolling back by redeploying the previous good version</p>
<p><img alt="image" src="../images/transitionaldeployment.png" /></p>
<p>Transitional deployment is important if something goes wrong and want to 'roll back'.</p>
<h2 id="release-experience">Release experience</h2>
<p>Release a new version of software installed by users on their own machines:</p>
<ul>
<li>Managing and upgrade experience</li>
<li>Migrating binaries, data, and configuration</li>
<li>Testing the upgrade process</li>
<li>Getting crash report from users</li>
</ul>
<p>3 approaches:</p>
<ul>
<li>Let software check update and prompt the users to download and upgrade to the new version</li>
<li>Download in the background and prompt for installation</li>
<li>Download in the background and silently upgrade the next time the application is restarted</li>
</ul>
<p>So in fact, giving users a choice simply tells them that the developers have no confidence in the upgrade process.
Don't delete the old files, move them</p>
<h2 id="essential-practices">Essential practices</h2>
<p>The essential practices include:</p>
<ul>
<li>Don't check in on a broken build</li>
<li>Always run all commit tests locally before committing, or get your CI server to do it for you: Pretested commit, personal build, or preflight build (supported by modern CI)</li>
<li>Wait for commit tests to pass before moving on</li>
<li>Never go home on a broken build</li>
<li>Always be prepared to revert to the previous revision</li>
<li>Time-box fixing before reverting</li>
<li>Don't comment out failing tests</li>
<li>Take responsibility for all breakages that result from your changes</li>
</ul>
<p><img alt="image" src="../images/practicelevel.png" /></p>
<p>Deploying user stories</p>
<ul>
<li>Stories are the unit of work for building the product</li>
<li>Stories should be tested as soon as they are finished</li>
<li>Stories can be deployed as soon as they are tested</li>
<li>Stories may be deployed in batch in order to reduce overhead</li>
</ul>
<p>CI/CD:</p>
<ul>
<li>Only build your binaries once</li>
<li>Automate deployment</li>
<li>(easy rollback)</li>
<li>Deploy the same way to every environment</li>
<li>Smoke test your deployments</li>
<li>Deploy into a copy of production</li>
<li>If any part of the pipeline fails, stop the line</li>
</ul>
<h2 id="other-practices">Other practices</h2>
<p>What we end up with is (in lean parlance) a pull system:</p>
<ul>
<li>Book: Lean software development: An Agile Toolkit</li>
<li>Implementing Lean Software Development: From Concept to Cash</li>
</ul>
<p>Visualize the release status through Release dashboard</p>
<p>Zero-downtime releases</p>
<p>Canary release:</p>
<ul>
<li>Rolling back easily</li>
<li>A/B testing</li>
<li>Check capacity requirements gradually</li>
</ul>
<p><em>Written by Binwei@Oslo</em></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>

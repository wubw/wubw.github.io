
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Azure Security &#8212; binwei  documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../../about/" />
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
  
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  
  <link rel="alternate" type="application/atom+xml"  href="../../blog/atom.xml" title="binwei Blog">
  
  
  <link href="True" rel="stylesheet">
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="azure-security">
<h1><a class="toc-backref" href="#id1">Azure Security</a><a class="headerlink" href="#azure-security" title="Permalink to this headline">¶</a></h1>
<p>Cyber Security is important aspect to digital transformation.
To use Azure well, the understanding of the security building blocks is crucial.</p>
<p><a class="reference external" href="https://docs.microsoft.com/en-us/azure/security/azure-security-getting-started">https://docs.microsoft.com/en-us/azure/security/azure-security-getting-started</a></p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#azure-security" id="id1">Azure Security</a></li>
<li><a class="reference internal" href="#security-basics" id="id2">Security Basics</a><ul>
<li><a class="reference internal" href="#key-security-areas" id="id3">Key Security Areas</a></li>
<li><a class="reference internal" href="#security-terminology" id="id4">Security terminology</a></li>
</ul>
</li>
<li><a class="reference internal" href="#azure-security-services-overview" id="id5">Azure security services overview</a><ul>
<li><a class="reference internal" href="#identity-and-access" id="id6">Identity and Access</a></li>
<li><a class="reference internal" href="#network-security" id="id7">Network Security</a></li>
<li><a class="reference internal" href="#data-protection" id="id8">Data Protection</a></li>
<li><a class="reference internal" href="#protecting-secrets" id="id9">Protecting secrets</a></li>
<li><a class="reference internal" href="#system-integrity" id="id10">System integrity</a></li>
<li><a class="reference internal" href="#insight" id="id11">Insight</a></li>
</ul>
</li>
<li><a class="reference internal" href="#authentication-options" id="id12">Authentication Options</a><ul>
<li><a class="reference internal" href="#authentication-in-the-public-cloud" id="id13">Authentication in the Public cloud</a></li>
<li><a class="reference internal" href="#azure-active-directory" id="id14">Azure Active Directory</a></li>
<li><a class="reference internal" href="#active-directory-domain-services" id="id15">Active Directory Domain services</a></li>
<li><a class="reference internal" href="#custom-domain-name" id="id16">Custom domain name</a></li>
<li><a class="reference internal" href="#azure-ad-connect" id="id17">Azure AD Connect</a></li>
<li><a class="reference internal" href="#privileged-identity-management-azure-ad-p2" id="id18">Privileged Identity management: Azure AD P2</a></li>
<li><a class="reference internal" href="#identity-as-a-service" id="id19">Identity as a service</a></li>
</ul>
</li>
<li><a class="reference internal" href="#azure-key-vault" id="id20">Azure Key Vault</a><ul>
<li><a class="reference internal" href="#authentication-and-authorization" id="id21">Authentication and Authorization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#networking" id="id22">Networking</a></li>
<li><a class="reference internal" href="#other-services-and-practices" id="id23">Other Services and practices</a><ul>
<li><a class="reference internal" href="#azure-security-center" id="id24">Azure Security Center</a></li>
<li><a class="reference internal" href="#azure-trust-center" id="id25">Azure Trust center</a></li>
<li><a class="reference internal" href="#virtual-machines" id="id26">Virtual Machines</a></li>
<li><a class="reference internal" href="#password-user-account-policies" id="id27">Password / User Account Policies</a></li>
<li><a class="reference internal" href="#database-access-requirements" id="id28">Database Access Requirements</a></li>
<li><a class="reference internal" href="#resource-and-role" id="id29">Resource and Role</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="security-basics">
<h1><a class="toc-backref" href="#id2">Security Basics</a><a class="headerlink" href="#security-basics" title="Permalink to this headline">¶</a></h1>
<p>Every company has some level of security requirement that stretches across almost every element of the business.
It’s important to think of security in layers rather than a single protection element.</p>
<p>Defense in Depth: The best security is based on layers of protection and this is especially true with networking.
See following picture.</p>
<img alt="../../_images/defense_in_depth.png" src="../../_images/defense_in_depth.png" />
<p>It’s also important to ensure security while not crippling the business ability to operate.
Make security a core step of any new project, of change control, of anything you do.</p>
<div class="section" id="key-security-areas">
<h2><a class="toc-backref" href="#id3">Key Security Areas</a><a class="headerlink" href="#key-security-areas" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="64%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Identity and access</td>
<td>Being sure you are who you say you are</td>
</tr>
<tr class="row-even"><td>Network security</td>
<td>Secure access, isolation, and publishing</td>
</tr>
<tr class="row-odd"><td>Data protection</td>
<td>Encryption of data at rest and in transit</td>
</tr>
<tr class="row-even"><td>Protecting secrets</td>
<td>Keys, certificates, credentials</td>
</tr>
<tr class="row-odd"><td>System integrity</td>
<td>Patched, protected, etc</td>
</tr>
<tr class="row-even"><td>Insight</td>
<td>Auditing, system state, health</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="security-terminology">
<h2><a class="toc-backref" href="#id4">Security terminology</a><a class="headerlink" href="#security-terminology" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Asset</td>
<td>People, property, or information (database, software code, company records)</td>
</tr>
<tr class="row-even"><td>Threat</td>
<td>Person or process that can exploit a vulnerability (intentionally or
accidentally) to obtain, damager, or destroy an asset</td>
</tr>
<tr class="row-odd"><td>Vulnerability</td>
<td>Weakness or gap in a security program that can be exploited by threats to
gain unauthorized access to an asset</td>
</tr>
<tr class="row-even"><td>Risk</td>
<td>The potential for loss, damage, or destruction of an asset as a result of a
threat exploiting a vulnerability</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="azure-security-services-overview">
<h1><a class="toc-backref" href="#id5">Azure security services overview</a><a class="headerlink" href="#azure-security-services-overview" title="Permalink to this headline">¶</a></h1>
<div class="section" id="identity-and-access">
<h2><a class="toc-backref" href="#id6">Identity and Access</a><a class="headerlink" href="#identity-and-access" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Azure Role Based Access Control</li>
<li>Azure Active Directory /B2C/B2B</li>
<li>Azure Multi-Factor Authentication</li>
<li>Hybrid identity with Microsoft Azure: Microsoft’s identity solutions span on-premises and cloud-based capabilities, creating a single user identity for authentication and authorization to all resources, regardless of location.</li>
</ul>
</div>
<div class="section" id="network-security">
<h2><a class="toc-backref" href="#id7">Network Security</a><a class="headerlink" href="#network-security" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Network Security Groups: While Virtual Network (VNET) is the cornerstone of Azure networking model and provides isolation and protection. Network Security Group (NSG) is the main tool you need to use to enforce and control network traffic rules at the networking level. Customers can control access by permitting or denying communication between the workloads within a virtual network, from systems on customer’s networks via cross-premises connectivity, or direct Internet communication.</li>
<li>Azure VPN Gateway: A VPN gateway is a specific type of virtual network gateway that is used to send encrypted traffic between an Azure virtual network and an on-premises location over the public Internet.</li>
<li>Azure Application Gateway: Azure Application Gateway is a web traffic load balancer that enables you to manage traffic to your web applications.</li>
<li>Azure Load Balancer: With Azure Load Balancer, you can scale your applications and create high availability for your services.</li>
<li>Azure Traffic Manager: Azure Traffic Manager is a DNS-based traffic load balancer that enables you to distribute traffic optimally to services across global Azure regions, while providing high availability and responsiveness.</li>
<li>Azure Application Proxy: Azure Active Directory’s Application Proxy provides secure remote access to on-premises web applications. After a single sign-on to Azure AD, users can access both cloud and on-premises applications through an external URL or an internal application portal.</li>
<li>Route Control and Forced Tunneling: Forced tunneling lets you redirect or “force” all Internet-bound traffic back to your on-premises location via a Site-to-Site VPN tunnel for inspection and auditing.</li>
<li>Virtual Network Security Appliances: Use your favorite network virtual appliances in Azure</li>
<li>Azure Virtual Network: Your private network in the cloud</li>
<li>Express Route: Experience a faster, private connection to Azure</li>
<li>Internal DNS &amp; Azure DNS</li>
</ul>
</div>
<div class="section" id="data-protection">
<h2><a class="toc-backref" href="#id8">Data Protection</a><a class="headerlink" href="#data-protection" title="Permalink to this headline">¶</a></h2>
<p>Azure Storage Security</p>
<ul class="simple">
<li>Azure Storage Service Encryption (for data at rest)</li>
<li>StorSimple Encrypted Hybrid Storage (an integrated storage solution that manages storage tasks between on-premises devices and Azure cloud storage.)</li>
<li>Azure Client-Side Encryption</li>
<li>Azure Storage Shared Access Signatures</li>
<li>Azure Storage Account Keys</li>
<li>Azure File Shares with SMB 3.0 Encryption: The Server Message Block (SMB) protocol is a network file sharing protocol that allows applications on a computer to read and write to files and to request services from server programs in a computer network. The SMB protocol can be used on top of its TCP/IP protocol or other network protocols. Using the SMB protocol, an application (or the user of an application) can access files or other resources at a remote server. This allows applications to read, create, and update files on the remote server. It can also communicate with any server program that is set up to receive an SMB client request.</li>
<li>Azure Storage Analytics</li>
<li>Role-based access control (RBAC)</li>
<li>Encryption in Transit</li>
<li>Enabling Browser-based clients using CORS</li>
</ul>
<img alt="../../_images/azure_data_encryption.png" src="../../_images/azure_data_encryption.png" />
<p>Do not copy production db, but use SQL DB Data Masking</p>
<p>Backup and Disaster Recovery</p>
<ul class="simple">
<li>Azure Backup</li>
<li>Azure Site Recovery</li>
</ul>
<p>Azure Database Security</p>
<ul class="simple">
<li>Azure SQL Firewall</li>
<li>Azure SQL Authentication</li>
<li>Azure SQL Transparent Data Encryption: Transparent Data Encryption (TDE) encrypts SQL Server, Azure SQL Database, and Azure SQL Data Warehouse data files, known as encrypting data at rest.</li>
<li>Azure SQL Database Auditing</li>
</ul>
</div>
<div class="section" id="protecting-secrets">
<h2><a class="toc-backref" href="#id9">Protecting secrets</a><a class="headerlink" href="#protecting-secrets" title="Permalink to this headline">¶</a></h2>
<p>Azure Key Vault</p>
</div>
<div class="section" id="system-integrity">
<h2><a class="toc-backref" href="#id10">System integrity</a><a class="headerlink" href="#system-integrity" title="Permalink to this headline">¶</a></h2>
<p>Applications</p>
<ul class="simple">
<li>Web Application vulnerability scanning</li>
<li>Penetration testing</li>
<li>Web Application firewall (WAF)</li>
<li>Layered Security Architecture</li>
<li>Web server diagnostics and application diagnostics</li>
<li>Antimalware &amp; Antivirus</li>
<li>Hardware Security Module</li>
<li>Virtual machine backup</li>
<li>VM Disk Encryption (IaaS VM disk)</li>
<li>Patch updates</li>
<li>Security policy management and reporting</li>
</ul>
</div>
<div class="section" id="insight">
<h2><a class="toc-backref" href="#id11">Insight</a><a class="headerlink" href="#insight" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Operations Management Suite Security and Audit Dashboard</li>
<li>Azure Resource Manager</li>
<li>Application Insights</li>
<li>Azure Monitor</li>
<li>Log Analytics</li>
<li>Azure Advisor</li>
<li>Azure Security Center</li>
</ul>
</div>
</div>
<div class="section" id="authentication-options">
<h1><a class="toc-backref" href="#id12">Authentication Options</a><a class="headerlink" href="#authentication-options" title="Permalink to this headline">¶</a></h1>
<div class="section" id="authentication-in-the-public-cloud">
<h2><a class="toc-backref" href="#id13">Authentication in the Public cloud</a><a class="headerlink" href="#authentication-in-the-public-cloud" title="Permalink to this headline">¶</a></h2>
<p>Communication over the public cloud has to be focused on protocols commonly available.
HPPTS is preferred and often required because it is encrypted with SSL.</p>
<p>Authentication commonly used:</p>
<ul class="simple">
<li>OAuth</li>
<li>OAuth 2 (used by Azure AD)</li>
<li>SAML</li>
</ul>
</div>
<div class="section" id="azure-active-directory">
<h2><a class="toc-backref" href="#id14">Azure Active Directory</a><a class="headerlink" href="#azure-active-directory" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Provide access to web-based services</li>
<li>Identity infrastructure of the future</li>
<li>Expanding constantly</li>
<li>Limited but growing features</li>
<li>Limited control over user environment</li>
</ul>
</div>
<div class="section" id="active-directory-domain-services">
<h2><a class="toc-backref" href="#id15">Active Directory Domain services</a><a class="headerlink" href="#active-directory-domain-services" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Access to on-premises resources</li>
<li>Current and past identity infrastructure</li>
<li>Been pretty constant for over a decade</li>
<li>Full featured implementation</li>
<li>Infrastructure is built and maintained</li>
<li>Fine-grain control of user environment</li>
<li>Applications within the configured virtual network can leverage Azure AD in a similar way to AD DS (LDAP, join domain, Kerberos, NTLM)</li>
<li>Useful where AD DS needed but don’t want the management or cost of traditional AD DS</li>
</ul>
<img alt="../../_images/authentication_options.png" src="../../_images/authentication_options.png" />
<img alt="../../_images/authentication_options_2.png" src="../../_images/authentication_options_2.png" />
</div>
<div class="section" id="custom-domain-name">
<h2><a class="toc-backref" href="#id16">Custom domain name</a><a class="headerlink" href="#custom-domain-name" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>To simplify the full name of azure AD url</li>
<li>Verify through your own hosting website (e.g. hostmonster)</li>
</ul>
</div>
<div class="section" id="azure-ad-connect">
<h2><a class="toc-backref" href="#id17">Azure AD Connect</a><a class="headerlink" href="#azure-ad-connect" title="Permalink to this headline">¶</a></h2>
<p>Azure AD Connect tool is to connect the local AD to Azure AD.</p>
<p>And you can activate or deactivate the sync between Azure AD and local AD.</p>
<p>Azure AD Connect !== AD Federation</p>
</div>
<div class="section" id="privileged-identity-management-azure-ad-p2">
<h2><a class="toc-backref" href="#id18">Privileged Identity management: Azure AD P2</a><a class="headerlink" href="#privileged-identity-management-azure-ad-p2" title="Permalink to this headline">¶</a></h2>
<p>No standing privileges is a common security goal.
Ideally accounts have privileges elevated only when required.</p>
<p>Azure AD Privileged Identity Management (PIM) enables users/groups to have roles assigned.
The user must then request elevation, typically also with MFA along with an optional comment.
The elevation is for a configurable amount of time per role.</p>
<p>A big focus is for a single identity across all systems and clouds.
It is critical that the identity is as secure and monitored as possible.</p>
<p>Azure AD Identity Protection provides a centralized view of risk events, risk users and vulnerabilities.
Can be utilized as part of conditional access to add user risk level as a condition.</p>
<p>Typical Capabilities</p>
<ul class="simple">
<li>Browser Based Authentication</li>
<li>Mobile Device Authentication</li>
<li>Multi-Factor Authentication</li>
<li>Login to your corporate directory</li>
<li>Single Sign On (to SaaS apps)</li>
<li>Social Login</li>
</ul>
<img alt="../../_images/azure_security_case_study_1.png" src="../../_images/azure_security_case_study_1.png" />
</div>
<div class="section" id="identity-as-a-service">
<h2><a class="toc-backref" href="#id19">Identity as a service</a><a class="headerlink" href="#identity-as-a-service" title="Permalink to this headline">¶</a></h2>
<p>How else does IDaaS help?</p>
<ul class="simple">
<li>DDOS prevention at the provider, not at your app</li>
<li>User Management</li>
<li>Block suspicious login</li>
<li>Prompt for MFA</li>
<li>Protocol based protection at the app (OpenlD Connect / OAuth2)</li>
<li>Centralized user management</li>
<li>Audit logs, reports</li>
<li>Compliance</li>
</ul>
</div>
</div>
<div class="section" id="azure-key-vault">
<h1><a class="toc-backref" href="#id20">Azure Key Vault</a><a class="headerlink" href="#azure-key-vault" title="Permalink to this headline">¶</a></h1>
<p>An Azure resource provider backed by pools of hardware security modules (HSMs)</p>
<p>Provides storage:</p>
<ul class="simple">
<li>Secrets - Pieces of data (under 25KB) that can be stored and retrieved</li>
<li>Keys - Stored and then used within the key vault to perform cryptographic operations (but cannot be retrieved)</li>
<li>Certificates - Management of x509 certificates including lifecycle</li>
</ul>
<div class="section" id="authentication-and-authorization">
<h2><a class="toc-backref" href="#id21">Authentication and Authorization</a><a class="headerlink" href="#authentication-and-authorization" title="Permalink to this headline">¶</a></h2>
<p>Authentication is via Azure AD OAuth2 tokens.</p>
<p>Authorization is via Access Control List (ACL) on the key vault.</p>
<p>Typical structure is as follows: Key Vault Owner; Key/Secret Owner; App Operator; Auditor</p>
<ul class="simple">
<li>Store your private keys, shared secrets, other connections, securely</li>
<li>FIPS (Federal Information Processing Standard) compliant option HSM storage ($$)</li>
<li>Examples: Private keys, certs, passwords; Connection strings; Secrets and account names for service bus, storage, search, redis, etc.</li>
</ul>
</div>
</div>
<div class="section" id="networking">
<h1><a class="toc-backref" href="#id22">Networking</a><a class="headerlink" href="#networking" title="Permalink to this headline">¶</a></h1>
<p>Connecting Virtual Networks</p>
<ul class="simple">
<li>If Virtual networks exist in the same region and use the same Azure AD tenant network peering can be used to connect them using the Azure backbone network</li>
<li>Another option is to utilize site-to-site VPN or ExpressRoute where network peering is not possible</li>
<li>Site-to-site VPN or ExpressRoute are used to connect to on-premises locations</li>
</ul>
<img alt="../../_images/virtual_network.png" src="../../_images/virtual_network.png" />
<p>NSG Rules: Rules are based on 5-tuple and have priority and action (allow or deny)</p>
<ul class="simple">
<li>Source IP address (can be a range using CIDR format)</li>
<li>Source port</li>
<li>Destination IP address (can be a range using CIDR format)</li>
<li>Destination port</li>
<li>Protocol (TCP, UDP, or * )</li>
</ul>
<img alt="../../_images/network_security_groups_example.png" src="../../_images/network_security_groups_example.png" />
<p>Non-VNet Azure Services</p>
<ul class="simple">
<li>Most non-laaS services do not directly integrate with VNets</li>
<li>The services have an Internet public facing endpoint</li>
<li>Some services provide a configurable firewall to control access based on public IP address and if from an Azure service</li>
<li>When enabling for Azure services it means any service for any tenant running in Azure</li>
<li>If more granularity required, look to utilize a public IP from the source service and restrict based on that IP</li>
</ul>
<p>Virtual Appliances</p>
<ul class="simple">
<li>A large number of virtual appliances are available in the Azure Marketplace</li>
<li>Licensing can be based on: Bring your own license or Hourly billing</li>
<li>Essentially a VM with pre-configured software and configuration to perform a certain set of functionality</li>
<li>Common examples include firewalls and load balancers</li>
</ul>
<p>Azure Application Gateway</p>
<ul class="simple">
<li>A layer 7 reverse-proxy solution</li>
<li>Terminates the client connection and forwards requests to target</li>
<li>Application protocols support HTTP, HTTPS and WebSockets</li>
<li>Supports SSL termination (offloading the CPU from the endpoints)</li>
<li>Internet facing and Internal (VNet) applications</li>
<li>Provides a layer of abstraction from the requesting client and the back-end service</li>
</ul>
<p>Web Application Firewall</p>
<ul class="simple">
<li>Optional addition to Azure Applicaiton Gateway</li>
<li>Provides a web application firewall solution</li>
<li>Implements CRS 3.0 by default (2.2.9 also available) (Core Rule Set)</li>
<li>Rules can be disabled on an individual basis if required</li>
<li>Detection or prevention mode</li>
</ul>
<p>Some practices</p>
<ul class="simple">
<li>Logically segment subnets: use nsgs for inter-subnet traffic</li>
<li>Control routing: used with virtual network applicances</li>
<li>Enable forced trunneling: constrain outbound VM traffic</li>
<li>Disable RDP/SSH: employ P2S or S2S VPNs</li>
<li>Enable Azure Security Center: Prevent, detect, and respond to threats</li>
</ul>
</div>
<div class="section" id="other-services-and-practices">
<h1><a class="toc-backref" href="#id23">Other Services and practices</a><a class="headerlink" href="#other-services-and-practices" title="Permalink to this headline">¶</a></h1>
<div class="section" id="azure-security-center">
<h2><a class="toc-backref" href="#id24">Azure Security Center</a><a class="headerlink" href="#azure-security-center" title="Permalink to this headline">¶</a></h2>
<p>AAA: authentication, authorization, accounting</p>
<p>SIEM (Security information and event management)</p>
<ul class="simple">
<li>Recommend actions to take to secure your VMS</li>
<li>Define policies</li>
<li>Export logs for analysis</li>
<li>Integration with Operations Management System (OMS)</li>
</ul>
</div>
<div class="section" id="azure-trust-center">
<h2><a class="toc-backref" href="#id25">Azure Trust center</a><a class="headerlink" href="#azure-trust-center" title="Permalink to this headline">¶</a></h2>
<p>Compliance Requirements</p>
<ul class="simple">
<li>Infrastructure: ISO 27001, 0 SAS 70 Type Il, SSAE 16</li>
<li>Audit: Third party review/ NIST SP 800-53; Third party pen test OWASP or OSSTMM; Third party NESSUS scan</li>
</ul>
<p>You can see the certificates
<a class="reference external" href="http://azure.microsoft.com/en-us/support/trust-center/compliance/">http://azure.microsoft.com/en-us/support/trust-center/compliance/</a></p>
</div>
<div class="section" id="virtual-machines">
<h2><a class="toc-backref" href="#id26">Virtual Machines</a><a class="headerlink" href="#virtual-machines" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Disabling unused services on VM i.e., no guest accounts, services run with least privilege</li>
<li>Keep machines patched, up to date</li>
<li>Updating out of date software</li>
<li>Azure Security Center can help here</li>
</ul>
</div>
<div class="section" id="password-user-account-policies">
<h2><a class="toc-backref" href="#id27">Password / User Account Policies</a><a class="headerlink" href="#password-user-account-policies" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Initial password issuance</li>
<li>Password strength</li>
<li>Password reuse</li>
<li>Frequency of change</li>
<li>Admin password special requirements</li>
<li>Hash algorithms / key lengths</li>
<li>Inactivity, login failure, account blocking</li>
<li>Non-obvious account names</li>
<li>Delivery of account/password materials</li>
<li>De-provisioning / access revocation</li>
<li>No sharing of accounts</li>
</ul>
</div>
<div class="section" id="database-access-requirements">
<h2><a class="toc-backref" href="#id28">Database Access Requirements</a><a class="headerlink" href="#database-access-requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Limited to individuals: Application / system accounts; Few admin / read only</li>
<li>All access to data is controlled via applications</li>
<li>Never, never, never log in to the database and fix issues directly with content/data: At least this is the goal; Build tools to solve data problems instead, track repeat offenders</li>
</ul>
</div>
<div class="section" id="resource-and-role">
<h2><a class="toc-backref" href="#id29">Resource and Role</a><a class="headerlink" href="#resource-and-role" title="Permalink to this headline">¶</a></h2>
<p>Azure resource manager</p>
<ul class="simple">
<li>every object is a resource</li>
<li>every resource belongs to a single resource group</li>
<li>resource groups are not a resource access boundary</li>
</ul>
<p>Resource Groups</p>
<ul class="simple">
<li>resources in a resource group should share a common lifecycle</li>
<li>Resource groups can be heterogeneous or homogeneous</li>
<li>Resource groups are not a boundary of access</li>
</ul>
<p>Role-based access control</p>
<ul class="simple">
<li>With ARM the access to resources and the actions possible can be finely controlled</li>
<li>A major use for resource group is with RBAC by grouping resources together in a resource group then delegate authority to groups of users on the resource group</li>
<li>RBAC and also apply to entire subscriptions or an individual resource</li>
<li>Enables assignment of roles at various levels: The subscription; A resource group; An individual resource</li>
<li>Assigned rights are inherited by child objects</li>
<li>Combine with Azure AD groups which contain users</li>
<li>Assign Azure AD groups to a role at the desired level</li>
</ul>
<p>Built-in roles</p>
<ul class="simple">
<li>large number of in-box roles</li>
<li>not every role applies to infrastructure</li>
<li>when looking at a resource only its relevant roles will be displayed</li>
<li>classic resource have smaller set of available roles and only at subscription level</li>
<li>select a role and a resource provider to see detailed permissions of the role</li>
</ul>
<p><em>Written by Binwei&#64;Singapore</em></p>
</div>
</div>

  <div class="section">
  
    


<div class="section">
  <span style="float: left;">
  
  
  <a href="../iot_for_smartcities/">
    <i class="fa fa-arrow-circle-left"></i>
    Iot for Smart Cities
  </a>
  
  </span>
  <span>&nbsp;</span>
  <span style="float: right;">
  
</div>

  
  
    <div class="section">
    <h2>Comments</h2>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'wubw-github-io';
        var disqus_identifier = '/2019/azure_security/';
        var disqus_title = 'Azure Security';
        var disqus_url = 'https://wubw.github.io/2019/azure_security';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  
  </div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../">
    <img class="logo" src="../../_static/logo.jpg" alt="Logo"/>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=wubw&repo=BinweiBlog&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>






  
  
  <h2>
  
  <i class="fa fa-calendar"></i>
    19 April 2019
  
  </h2>

  <ul>
    

  

  

  

  
  <li id="category"><span><i class="fa-fw fa fa-folder-open"></i></span>
    
      
      <a href="../../blog/category/computerscience/">ComputerScience</a>
      
    </li>
  

  
  <li id="tags"><span><i class="fa-fw fa fa-tags"></i>
      </span>
    
      
      <a href="../../blog/tag/security/">security</a>
      
    
      
      <a href="../../blog/tag/cloud/">cloud</a>
      
    </li>
  
  
  <li id="comments">
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'wubw-github-io'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>
    <i class="fa-fw fa fa-comments"></i>
    <a href="#disqus_thread" data-disqus-identifier="/2019/azure_security/"> </a>
  </li>
  
  </ul>


<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/">About binwei</a></li>
</ul>


  <h3><a href="../../blog/">Recent Posts</a></h3>
  <ul>
    
    
      <li><a href="../iot_for_smartcities/">10 February - Iot for Smart Cities</a></li>
    
      <li><a href="../agile_selling/">27 January - Agile Selling</a></li>
    
      <li><a href="../iot_introduction/">26 January - 2019/Iot_Introduction</a></li>
    
      <li><a href="../machine_learning_basic/">13 January - Machine Learning Basic</a></li>
    
      <li><a href="../../2018/personal_branding/">25 December - Personal Branding</a></li>
    
  </ul>

  <h3><a href="../../blog/tag/">Tags</a></h3>
  <style type="text/css">
    ul.ablog-cloud {list-style: none; overflow: auto;}
    ul.ablog-cloud li {float: left; height: 20pt; line-height: 18pt; margin-right: 5px;}
    ul.ablog-cloud a {text-decoration: none; vertical-align: middle;}
    li.ablog-cloud-1{font-size: 80%;}
    li.ablog-cloud-2{font-size: 95%;}
    li.ablog-cloud-3{font-size: 110%;}
    li.ablog-cloud-4{font-size: 125%;}
    li.ablog-cloud-5{font-size: 140%;}
  </style>
  <ul class="ablog-cloud">
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/ai/">ai</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/architecture/">architecture</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/backend/">backend</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/blockchain/">blockchain</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/blog/">blog</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-5">
        <a href="../../blog/tag/booknotes/">booknotes</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/career/">career</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/chinese/">chinese</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/cloud/">cloud</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/continuousdelivery/">continuousdelivery</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/database/">database</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/devops/">devops</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/docker/">docker</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/frontend/">frontend</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/git/">git</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/iot/">iot</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/lean/">lean</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/nosql/">nosql</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/opensource/">opensource</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/process/">process</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/reading/">reading</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/sales/">sales</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-3">
        <a href="../../blog/tag/security/">security</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/shell/">shell</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/smartcity/">smartcity</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/telemetry/">telemetry</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/vi/">vi</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/web/">web</a></li>
      
    
  </ul>

  <h3><a href="../../blog/category/">Categories</a></h3>
  <ul>
  
    
    <li><a href="../../blog/category/business/">Business (1)</a></li>
    
  
    
    <li><a href="../../blog/category/computerscience/">ComputerScience (32)</a></li>
    
  
    
    <li><a href="../../blog/category/life/">Life (1)</a></li>
    
  
    
    <li><a href="../../blog/category/literature/">Literature (3)</a></li>
    
  
    
    <li><a href="../../blog/category/management/">Management (13)</a></li>
    
  
  </ul>

  <h3><a href="../../blog/archive/">Archives</a></h3>
  <ul>
  
    
    <li><a href="../../blog/2019/">2019 (5)</a></li>
    
  
    
    <li><a href="../../blog/2018/">2018 (11)</a></li>
    
  
    
    <li><a href="../../blog/2017/">2017 (34)</a></li>
    
  
  </ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, binwei.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="../../_sources/2019/azure_security.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-97414429-1']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>
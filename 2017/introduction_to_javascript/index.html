<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Introduction to Javascript - Binwei's Blog</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Binwei's Blog</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Welcome to Binwei's Blog</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">2017</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../authenticate_by_openidconnect/" class="dropdown-item">Authenticate Node.js App by OpenId Connect</a>
</li>
                                    
<li>
    <a href="../bash_useful_commands/" class="dropdown-item">How to Become an Outlier</a>
</li>
                                    
<li>
    <a href="../become_outlier/" class="dropdown-item">How to Become an Outlier</a>
</li>
                                    
<li>
    <a href="../blockchain_introduction/" class="dropdown-item">Blockchain Introduction</a>
</li>
                                    
<li>
    <a href="../book-bian_zhi_lin_shi_xuan/" class="dropdown-item">Book notes: Bian Zhi Lin Anthology</a>
</li>
                                    
<li>
    <a href="../book-cai_gen_tan/" class="dropdown-item">Book Notes: Cai Gen Tan</a>
</li>
                                    
<li>
    <a href="../cloud_for_dummy/" class="dropdown-item">Cloud for Dummy</a>
</li>
                                    
<li>
    <a href="../devops_and_continuous_delivery/" class="dropdown-item">DevOps and Continuous Delivery</a>
</li>
                                    
<li>
    <a href="../domain_driven_design_introduction/" class="dropdown-item">Domain Driven Design: Introduction</a>
</li>
                                    
<li>
    <a href="../git_areas/" class="dropdown-item">Git: Areas</a>
</li>
                                    
<li>
    <a href="../git_branch-basic/" class="dropdown-item">Git: Branch Basic</a>
</li>
                                    
<li>
    <a href="../git_branch-continued/" class="dropdown-item">Git: Branch Continue</a>
</li>
                                    
<li>
    <a href="../git_getting-started/" class="dropdown-item">Git: Getting Started</a>
</li>
                                    
<li>
    <a href="../git_resolve-conflicts/" class="dropdown-item">Git: Resolve Conflicts</a>
</li>
                                    
<li>
    <a href="../how_to_read_books/" class="dropdown-item">How to Read Books</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Introduction to Javascript</a>
</li>
                                    
<li>
    <a href="../job_security/" class="dropdown-item">Job Security</a>
</li>
                                    
<li>
    <a href="../kotter_binwei_change_model/" class="dropdown-item">Kotter-Binwei Change Model</a>
</li>
                                    
<li>
    <a href="../lean_principles/" class="dropdown-item">Lean: Principles</a>
</li>
                                    
<li>
    <a href="../lean_toolkit_for_software_development/" class="dropdown-item">Lean Toolkit for Software Development</a>
</li>
                                    
<li>
    <a href="../nosql_introduction/" class="dropdown-item">NoSQL: Introduction</a>
</li>
                                    
<li>
    <a href="../security_owasp_top_10/" class="dropdown-item">Security: Owasp Top 10</a>
</li>
                                    
<li>
    <a href="../setup-blog_using-sphinx-ablog/" class="dropdown-item">Setup Blog: Using Sphinx and Ablog</a>
</li>
                                    
<li>
    <a href="../specification_by_example/" class="dropdown-item">Specification by Example</a>
</li>
                                    
<li>
    <a href="../technology_to_learn_next/" class="dropdown-item">Technology to Learn Next</a>
</li>
                                    
<li>
    <a href="../telemetry_overview/" class="dropdown-item">Telemetry: Overview</a>
</li>
                                    
<li>
    <a href="../the_art_of_simplicity/" class="dropdown-item">The Art of Simplicity</a>
</li>
                                    
<li>
    <a href="../the_effective_executive/" class="dropdown-item">The Effective Executive</a>
</li>
                                    
<li>
    <a href="../the_mckinsey_engagement/" class="dropdown-item">The Mckinsey Engagement</a>
</li>
                                    
<li>
    <a href="../the_mythical_deadline_of_peopleware_man_month/" class="dropdown-item">The Mythical Deadline of Peopleware Man-month</a>
</li>
                                    
<li>
    <a href="../threat_modeling_introduction/" class="dropdown-item">Threat Modeling: Introduction</a>
</li>
                                    
<li>
    <a href="../vi_configuration-example/" class="dropdown-item">Vi: Configuration Example</a>
</li>
                                    
<li>
    <a href="../work_in_big_company/" class="dropdown-item">Work in Big Company</a>
</li>
                                    
<li>
    <a href="../xunit_test_patterns/" class="dropdown-item">Xunit Test Patterns</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">2018</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../2018/ai_for_smartcities/" class="dropdown-item">AI for Smart Cities</a>
</li>
                                    
<li>
    <a href="../../2018/authentication_authorization_explainations/" class="dropdown-item">Authentication &amp; Authorization Basic</a>
</li>
                                    
<li>
    <a href="../../2018/blockchain_scenario/" class="dropdown-item">Blockchain Scenario</a>
</li>
                                    
<li>
    <a href="../../2018/career_advice/" class="dropdown-item">职场菜根谭</a>
</li>
                                    
<li>
    <a href="../../2018/cryptography_introduction/" class="dropdown-item">Cryptography Introduction (with .NET code example)</a>
</li>
                                    
<li>
    <a href="../../2018/docker_introduction/" class="dropdown-item">Docker Introduction</a>
</li>
                                    
<li>
    <a href="../../2018/https/" class="dropdown-item">Https Explainations</a>
</li>
                                    
<li>
    <a href="../../2018/microservices_introduction/" class="dropdown-item">Microservices Introduction</a>
</li>
                                    
<li>
    <a href="../../2018/nodejs_basics/" class="dropdown-item">Node.js Basics</a>
</li>
                                    
<li>
    <a href="../../2018/personal_branding/" class="dropdown-item">Personal Branding</a>
</li>
                                    
<li>
    <a href="../../2018/the_personal_mba/" class="dropdown-item">The Personal MBA</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">2019</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../2019/agile_selling/" class="dropdown-item">Agile Selling</a>
</li>
                                    
<li>
    <a href="../../2019/application_insight_introduction/" class="dropdown-item">Application Insight Introduction</a>
</li>
                                    
<li>
    <a href="../../2019/azure_datalake_warehouse/" class="dropdown-item">Azure Data Lake and Warehouse</a>
</li>
                                    
<li>
    <a href="../../2019/azure_security/" class="dropdown-item">Azure Security</a>
</li>
                                    
<li>
    <a href="../../2019/cyber_security_for_blockchain/" class="dropdown-item">Cyber Security for Blockchain</a>
</li>
                                    
<li>
    <a href="../../2019/iot_for_smartcities/" class="dropdown-item">Iot for Smart Cities</a>
</li>
                                    
<li>
    <a href="../../2019/machine_learning_basic/" class="dropdown-item">Machine Learning Basic</a>
</li>
                                    
<li>
    <a href="../../2019/user_story_applied/" class="dropdown-item">User Story Applied</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">2020</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../2020/about_consulting/" class="dropdown-item">About Consulting</a>
</li>
                                    
<li>
    <a href="../../2020/arduino_introduction/" class="dropdown-item">Arduino Introduction</a>
</li>
                                    
<li>
    <a href="../../2020/azure_design_pattern/" class="dropdown-item">Azure Design Pattern</a>
</li>
                                    
<li>
    <a href="../../2020/china_70_anniversary_bigdata/" class="dropdown-item">China 70 Anniversary Big Data</a>
</li>
                                    
<li>
    <a href="../../2020/data_science_basic/" class="dropdown-item">Data Science Basic</a>
</li>
                                    
<li>
    <a href="../../2020/enlightenment_from_singing/" class="dropdown-item">Enlightenment from Singing</a>
</li>
                                    
<li>
    <a href="../../2020/intelligent_web_sentences/" class="dropdown-item">Intelligent Web Sentences</a>
</li>
                                    
<li>
    <a href="../../2020/mac_tips/" class="dropdown-item">Mac Tips</a>
</li>
                                    
<li>
    <a href="../../2020/xiao_gou_qian_qian/" class="dropdown-item">Book note: Xiao Gou Qian Qian</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">2021</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../2021/measure_anything/" class="dropdown-item">Measure Anything</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../how_to_read_books/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../job_security/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#introduction-to-javascript" class="nav-link">Introduction to Javascript</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#table-of-contents" class="nav-link">Table of Contents</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#javascript-basic" class="nav-link">Javascript Basic</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#strongly-typed-or-weakly-typed-loosely-typed" class="nav-link">Strongly typed or weakly typed (loosely typed)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#duck-typing" class="nav-link">Duck typing</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#dynamic-typing" class="nav-link">Dynamic Typing</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#type" class="nav-link">Type</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#type-coalescing" class="nav-link">Type Coalescing</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#types-primitives" class="nav-link">Types Primitives</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#number" class="nav-link">Number</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#operator" class="nav-link">Operator</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#function" class="nav-link">Function</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#overloading-function" class="nav-link">Overloading function</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#arguments-object" class="nav-link">Arguments object</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#all-functions-return-a-value" class="nav-link">All functions return a value</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#function-is-just-an-object" class="nav-link">Function is just an object</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#function-body-variable" class="nav-link">Function Body Variable</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#closures" class="nav-link">Closures</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#self-executing-function" class="nav-link">Self-executing function</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#scope" class="nav-link">Scope</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#oop-in-javascript" class="nav-link">OOP in Javascript</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#inheritance" class="nav-link">Inheritance</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#class-in-javascript" class="nav-link">'Class' in Javascript</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#static-members" class="nav-link">Static Members</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#sharing-a-function" class="nav-link">Sharing a function</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#object-reflection" class="nav-link">Object Reflection</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#extension-methods" class="nav-link">Extension methods</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="introduction-to-javascript">Introduction to Javascript</h1>
<p><strong>Published:</strong> Sep 9, 2017
<strong>Tags:</strong> web, frontend
<strong>Category:</strong> ComputerScience</p>
<p>Javascript is the fundumantal programming language for frontend development.
This blog introduces the basic concept of Javascript language.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<h1 id="javascript-basic">Javascript Basic</h1>
<p>First, let's compare Javascript with a OOP programming language C#.</p>
<p>+-----------------------+-----------------------+
| C#                    | Javascript            |
+-----------------------+-----------------------+
| Strongly-Typed        | Loosely-typed         |
+-----------------------+-----------------------+
| Static                | Dynamic               |
+-----------------------+-----------------------+
| Classical Inheritance | Prototypal            |
+-----------------------+-----------------------+
| Classes               | Functions             |
+-----------------------+-----------------------+
| Constructors          | Functions             |
+-----------------------+-----------------------+
| Methods               | Functions             |
+-----------------------+-----------------------+</p>
<h2 id="strongly-typed-or-weakly-typed-loosely-typed">Strongly typed or weakly typed (loosely typed)</h2>
<p>In general, a strongly typed language is more likely to generate an error or refuse to compile if the argument passed to a function does not closely match the expected type.
On the other hand, a weakly typed language may produce unpredictable results or may perform implicit type conversion.</p>
<pre><code class="language-javascript">var x = 0;
var isNumber = typeof x == &quot;number&quot;;
x = new Object();
</code></pre>
<h2 id="duck-typing">Duck typing</h2>
<p>Type is less important, but shape is important</p>
<pre><code class="language-javascript">function Feed(ani) { ani.Feed() } // accepts any object implements Feed function
</code></pre>
<h2 id="dynamic-typing">Dynamic Typing</h2>
<p>A language is statically typed if the type of a variable is known at compile time.
A language is dynamically typed if the type is associated with run-time values, and not named variables/fields/etc.</p>
<pre><code class="language-javascript">var x = {
    name: &quot;Shawn&quot;,
    city: &quot;Atlanta&quot;
};
x.phone = &quot;xxx-xx-xxx&quot;;
x.makeCall = function() {
    callSomeone(this.phone);
};
</code></pre>
<h1 id="type">Type</h1>
<h2 id="type-coalescing">Type Coalescing</h2>
<p>Javascript wants to coalesce values.</p>
<pre><code class="language-javascript">    &quot;test &quot; + &quot;me&quot;
    &quot;test &quot; + 1
    &quot;test &quot; + true
    &quot;test &quot; + (1 == 1)
    100 + &quot;25&quot; // 10025
</code></pre>
<p>Most operators in Javascript are identical to .net, except…</p>
<ul>
<li>Equality/NotEqual (==, !=): The means determines equality with coalescing (if necessary)</li>
<li>Javascript's identically Equality operators (===, !==) which is similar to .Equal(). Determines quality without coalescing</li>
</ul>
<pre><code class="language-javascript">    &quot;hello&quot; == &quot;hello&quot;; // true
    1 == 1; // true
    1 == &quot;1&quot;; // true
    1 === &quot;1&quot;; // false
    1 !== &quot;1&quot;; // true
</code></pre>
<h2 id="types-primitives">Types Primitives</h2>
<p>Javascript has basic types</p>
<ul>
<li>Value types: boolean, string, number</li>
<li>Reference Type: object</li>
<li>Delegate type: function</li>
<li>Special: undefined, null</li>
</ul>
<pre><code class="language-javascript">var a = typeof 1; //number
var b = typeof 1.0; // number
var c = typeof true; // boolean
var d = typeof false; // boolean
var e = typeof &quot;hello world&quot;; // string
</code></pre>
<h2 id="number">Number</h2>
<p>Examples of number:</p>
<ul>
<li>1, 1.5, 070, 0xffff, 1.34e6, 10.0</li>
<li>Number.MIN_VALUE</li>
<li>Number.MAX_VALUE</li>
<li>Number.POSITIVE_INFINITY;</li>
<li>Number.NEGATIVE_INFINITY;</li>
</ul>
<h2 id="operator">Operator</h2>
<pre><code class="language-javascript">var fail = 10/&quot;zero&quot;; // NaN
var test1 = NaN == NaN; // false
var test2 = isNaN(NaN); // true
var test3 = isNaN(fail); //true
var test4 = isNaN(10); // false
var test5 = isNaN(&quot;10&quot;); //false
var test6 = isNaN(&quot;fail&quot;);//true
</code></pre>
<p>All the following values are false</p>
<pre><code class="language-javascript">if(&quot;&quot;)
if(0)
if(10/0)
if(null)
if(undefined)
</code></pre>
<h1 id="function">Function</h1>
<h2 id="overloading-function">Overloading function</h2>
<p>Javascript does not support function overload.</p>
<pre><code class="language-javascript">function foo(one) {
    alert('first);
}
function foo(one, two) {
    alert('second');
}
foo(1); // second
</code></pre>
<p>The second one simply overrule the first one</p>
<h2 id="arguments-object">Arguments object</h2>
<p>Arguments object is available inside function body only.</p>
<pre><code class="language-javascript">function foo(one, two, three) {
    alert(arguments.length);
}
foo(1);     //1
foo(1, 2);  //2
foo(1,2,3); //3
</code></pre>
<p>Accessing the values through arguments object.</p>
<pre><code class="language-javascript">function foo() {
    for(var x = 0; x &lt; arguments.length; x++) {
        alert(arguments[x]);
    }
}
foo(1, 2, 3); // 1,2,3
</code></pre>
<h2 id="all-functions-return-a-value">All functions return a value</h2>
<p>If not defined then it's 'undefined'</p>
<pre><code class="language-javascript">function foo() {
    return;
}
var x = foo();
</code></pre>
<h2 id="function-is-just-an-object">Function is just an object</h2>
<p>Has properties and member functions</p>
<pre><code class="language-javascript">function log(s) { alert('yup'); }
var x = log.length; // 1 parameter
var y = log.name; // 'log'
var z = log.toString() // 'function log(s) { alert('yup'); }
</code></pre>
<h2 id="function-body-variable">Function Body Variable</h2>
<p>"this" applies to the owner of the function</p>
<pre><code class="language-javascript">var f = function() {
    alert(this);
};
f(); // [Object Window]

var obj = {
    name: 'myObj',
    myFunc: function() {
        console.log(this.name);
    }
};
obj.myFunc(); // 'myObj'

var f = obj.myFunc.bind(this);
f(); // this == global object
</code></pre>
<p>bind() lets you change the owner.</p>
<p>For details, see:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this</p>
<h2 id="closures">Closures</h2>
<p>JavaScript closure makes it possible for a function to have "private" variables.</p>
<pre><code class="language-javascript">var add = (function () {
    var counter = 0;
    return function () {return counter += 1;}
})();

add();
add();
add();

// the counter is now 3
</code></pre>
<p>The variable add is assigned the return value of a self-invoking function.</p>
<p>The self-invoking function only runs once. It sets the counter to zero (0), and returns a function expression.</p>
<p>This way add becomes a function. The "wonderful" part is that it can access the counter in the parent scope.</p>
<p>The counter is protected by the scope of the anonymous function, and can only be changed using the add function.</p>
<p>The magic is that in JavaScript a function reference also has a secret reference to the closure it was created in — similar to how delegates are a method pointer plus a secret reference to an object.</p>
<pre><code class="language-javascript">function say667() {
    var num = 42;
    var say = function() { console.log(num); }
    num++;
    return say;
}
var sayNumber = say667();
sayNumber(); //logs 43
</code></pre>
<pre><code class="language-javascript">var gLogNumber, gIncreaseNumber, gSetNumber;
function setupSomeGlobals() {
    var num = 42;
    gLogNumber = function() { console.log(num); }
    gIncreaseNumber = function() { num++; }
    gSetNumber = function(x) { num = x; }
}
setupSomeGlobals();
gIncreaseNumber();
gLogNumber(); //43
gSetNumber(5);
gLogNumber(); // 5

var oldLog = gLogNumber;

setupSomeGlobals();
gLogNumber(); // 42
oldLog() //5
</code></pre>
<p>Note that in the above example, if you call setupSomeGlobals() again, then a new closure (stack-frame!) is created.</p>
<p>The old gLogNumber, gIncreaseNumber, gSetNumber variables are overwritten with new functions that have the new closure.</p>
<p>Closure can also introduce tricky bugs if not used correctly.</p>
<pre><code class="language-javascript">function buildList(list) {
    var result = [];
    for (var i = 0; i &lt; list.length; i++) {
        var item = 'item' + i;
        result.push(function() { console.log(item + ' ' + list[i]) });
    }
    return result;
}
function testList() {
    var fnlist = buildList([1,2,3]);
    for (var j = 0; j &lt; fnlist.length; j++) {
        fnlist[j]();
    }
}
testList() // logs 'item2 undefined' 3 times
</code></pre>
<p>This is because just like previous examples, there is only one closure for the local variables for buildList.
When the anonymous functions are called on the line fnlist<a href="">j</a>; they all use the same single closure, and they use the current value for i and item within that one closure (where i has a value of 3 because the loop had completed, and item has a value of 'item2').
Note we are indexing from 0 hence item has a value of item2.
And the i++ will increment i to the value 3.</p>
<h2 id="self-executing-function">Self-executing function</h2>
<pre><code class="language-javascript">(function() {
    var private_variable = 'private';
})();
</code></pre>
<h2 id="scope">Scope</h2>
<p>Javascript has scope chain.
When looking for the definition of a variable, the javascript engine first looks at the local execution context object.
If the definition isn't there, it jumps up the scope chain to the execution context it was created in and looks for the variable definition in that execution context object, and so on until it finds the definition or reaches the global scope.</p>
<p>Global scope. Objects at root are 'global'.</p>
<pre><code class="language-javascript">var a = 'Hello'
if(true) {
    var b = a;
}
var c = b; //this works
</code></pre>
<pre><code class="language-javascript">var a = 'hello';
function() {
    var b = a;
}
var c = b; //this doesn't work
</code></pre>
<p>Javascript lacks real namespaces.
We can mimic by creating with objects to avoid polluting the global scope.</p>
<pre><code class="language-javascript">// Construct or Import Namespace
var WilderMinds = WilderMinds || {};
WilderMinds.currentTime = function() {
    return new Date();
};
</code></pre>
<p>Anonymous self-executing functions: protects the global namespace by function scope
All Together: Namespaces and Anonymous Self-Executing Functions</p>
<pre><code class="language-javascript">(function(ns) {
    var currentDate = new Date();
    ns.currentTime = function() {
        return currentDate;
    };
})(window.WilderMinds = window.WilderMinds || {});
</code></pre>
<h1 id="oop-in-javascript">OOP in Javascript</h1>
<p>Javascript also support OOP paradiam.</p>
<h2 id="inheritance">Inheritance</h2>
<pre><code class="language-javascript">var proto = {
    sentence: 4,
    probation: 2
};

var Prisoner = function (name, id) {
    this.name = name;
    this.id = id;
};

Prisoner.prototype = proto;
var firstPrisoner = new Prisoner('Joe', '12A');
var secondPrisoner = new Prisoner('Sam', '2BC');
</code></pre>
<p>Object.Create can also do the same thing</p>
<p>Javascript also has prototype chain. <strong>proto</strong></p>
<p><strong>proto</strong> is the actual object that is used in the lookup chain to resolve methods, etc.
prototype is the object that is used to build <strong>proto</strong> when you create an object with new().</p>
<h2 id="class-in-javascript">'Class' in Javascript</h2>
<p>Closures can make properties private</p>
<pre><code class="language-javascript">funciton Customer(name, company) {
    //public
    this.name = name;
    this.company = company;

    // private
    var mailServer = 'mail.google.com';

    this.sendEmail = function(email) {
        sendMailViaServer(mailServer);
    };
}
</code></pre>
<h2 id="static-members">Static Members</h2>
<pre><code class="language-javascript">function Customer(name, company) {
    this.name = name;
    this.company = company;
}
Customer.mailServer = 'mail.google.com';
</code></pre>
<h2 id="sharing-a-function">Sharing a function</h2>
<p>That way each instance doesn't have it's own copy</p>
<pre><code class="language-javascript">Customer.prototype.send = funciton(email) { … }
</code></pre>
<p>Basic inheritance with the Prototype object</p>
<pre><code class="language-javascript">function Cow(color) {
    this.color = color;
}
Cow.prototype = new Animal('Hay');

var c = new Cow('White');
c.feed();
var test = c instanceof Animal; // true
var test2 = c instanceof Cow; // true
</code></pre>
<p>Can Fake Abstract Classes with some caveats</p>
<pre><code class="language-javascript">var Animal = {
    foodType: 'None',
    feed: function() {
        log('fed the animal: ' + this.foodType);
    }
};
var a = new Animal(); //Fails (not a constructor)
</code></pre>
<h2 id="object-reflection">Object Reflection</h2>
<p>Property Syntaxes</p>
<ul>
<li>Dot syntax: cust.name</li>
<li>Bracket Syntax: cust["name"]</li>
</ul>
<p>Enumerating members: simplest version of reflection</p>
<pre><code class="language-javascript">var cust = {
    name: 'Shawn',
    'company name': 'Wilder Minds',
    sendMail: function() { … }
};
for (var prop in cust) {
    alert(prop);
    alert(cust[prop]);
}

var has = cust.hasOwnProperty('name');
var isEnum = cust.propertyIsEnumerable('name');
</code></pre>
<h2 id="extension-methods">Extension methods</h2>
<p>prototype can be used to add extension methods
Add to existing type's prototype</p>
<pre><code class="language-javascript">Array.prototype.calculateCount = function() {
    return this.length;
};
var a = ['one', 'two'];
var count = a.calculateCount();
</code></pre>
<p><em>Written by Binwei@Trondheim</em></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2017/Git_Resolve Conflicts &#8212; binwei  documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../../about/" />
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
  
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  
  <link rel="alternate" type="application/atom+xml"  href="../../blog/atom.xml" title="binwei Blog">
  
  
  <link href="True" rel="stylesheet">
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="git-resolve-conflicts">
<h1>2017/Git_Resolve Conflicts<a class="headerlink" href="#git-resolve-conflicts" title="Permalink to this headline">Â¶</a></h1>
<p>Written by <a class="reference external" href="mailto:Binwei&#37;&#52;&#48;Oslo">Binwei<span>&#64;</span>Oslo</a></p>
<p>Git provides various tools to resolve conflicts during the merge process, and in this blog we only discuss one of them gvimdiff in Windows Operating System.</p>
<p>Software installation</p>
<p>gvimdiff needs Gvim installed, which is GUI Vi text editor and can be downloaded from:</p>
<p><a class="reference external" href="http://www.vim.org/download.php">http://www.vim.org/download.php</a></p>
<p>After the installation, please ensure the executable file path is included in PATH environment variable. You can test it in console by typing gvim to see whether you get the application invoked.</p>
<p>Configure gvimdiff</p>
<p>In order to use gvimdiff, you need to configure it in git by following command</p>
<p>git config merge.tool gvimdiff</p>
<p>gvimdiff is using gvim but it is a internal name in git terminology, it means there will be no executable found in your file system. Do not get surprised if your console cannot find gvimdiff.</p>
<p>Use the following command to setup gvimdiff to have same diff view just like this post:</p>
<p>git config merge.conflictstyle diff3</p>
<p>If you are curious about other git merge options, you can check yourself:</p>
<p>git mergetool &#8211;tool-help</p>
<p>Make conflicts</p>
<p>Initialize a new repository with a dummy.txt file, put the following content in the file and commit it to master branch:</p>
<p>&#8220;Hello World&#8221;
no changes
no changes
&#8220;Hello World again&#8221;</p>
<p>Create develop branch by using following git command:</p>
<p>git branch develop</p>
<p>git checkout develop</p>
<p>Add the following modification in the first line and fourth line. And commit the change into develop branch.</p>
<p>&#8220;Hello World - develop&#8221;
no changes
no changes
&#8220;Hello World again - develop&#8221;</p>
<p>And switch back to master branch, and add following changes.</p>
<p>&#8220;Hello World - master&#8221;
no changes
no changes
&#8220;Hello World again 2 - master&#8221;</p>
<p>As you can see, we have created conflicts between master/develop. The next step will be to resolve them during the merge process.</p>
<p>Resolve conflicts</p>
<p>Now, let&#8217;s switch back to develop and try to merge all the changes from master.</p>
<p>git checkout develop</p>
<p>git merge master</p>
<p>Git will complain about conflicts, and you can see following error message in the console:</p>
<p>git merge master
Auto-merging dummy.txt
CONFLICT (content): Merge conflict in dummy.txt
Automatic merge failed; fix conflicts and then commit the result.</p>
<p>If you look into the current content of dummy.txt, you will find out it has been modified to contain the conflict data.</p>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
&#8220;Hello World - develop&#8221;
||||||| merged common ancestors
&#8220;Hello World - develop&#8221;
=======
&#8220;Hello World - master&#8221;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; master
no changes
no changes
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
&#8220;Hello World again&#8221;
||||||| merged common ancestors
&#8220;Hello World again&#8221;
=======
&#8220;Hello World again 2 - master&#8221;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; master</p>
<p>On theory, you can resolve the conflicts by &#8216;clean up&#8217; the dummy.txt file directly to remove the git conflict syntax. I will not recommend that since it will be inefficient and error prone.</p>
<p>We can use gvimdiff utility to resolve the conflict by using following command:</p>
<p>git mergetool</p>
<p>And you will get the following gvim window</p>
<p>gvimdiff</p>
<p>For using mergetool in git, we need to understand the following terminology to understand what is being merged:</p>
<p>LOCAL - the head for the file(s) from the current branch on the machine that you are using.
REMOTE - the head for files(s) from a remote location that you are trying to merge into your LOCAL branch.
BASE - the common ancestor(s) of LOCAL and BASE.
MERGED - the tag / HEAD object after the merge - this is saved as a new commit.
The above gvim window show as following style:</p>
<table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>LOCAL  |     BASE     | REMOTE</td>
</tr>
<tr class="row-even"><td>MERGED</td>
</tr>
</tbody>
</table>
<p>gvimdiff commands</p>
<p>As you can see there are four sub-windows in the gvim, in order to switch between the sub-windows, you can use:</p>
<p>Ctrl w + h   # move to the split on the left
Ctrl w + j   # move to the split below
Ctrl w + k   # move to the split on top
Ctrl w + l   # move to the split on the right
Or Ctrl + tab move to the next window</p>
<p>In order to go the previous/next difference, you can use:</p>
<p>] + C</p>
<p>[ + C</p>
<p>You can either incorporate the changes by manually editing the MERGED split, or use Vim shortcuts pull from one of the LOCAL, BASE ad REMOTE versions.</p>
<p>:diffg RE # get from REMOTE
:diffg BA # get from BASE
:diffg LO # get from LOCAL</p>
<p>save the changes then quit with :wqa to close all the splits. Remember to commit the merge.</p>
<p>git commit -am &#8216;merged from several branches&#8217;</p>
</div>

  <div class="section">
  
    


<div class="section">
  <span style="float: left;">
  
  
  <a href="../vi_configuration-example/">
    <i class="fa fa-arrow-circle-left"></i>
    Vi: Configuration Example
  </a>
  
  </span>
  <span>&nbsp;</span>
  <span style="float: right;">
  
</div>

  
  
  </div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../">binwei</a></h1>









  
  
  <h2>
  
  <i class="fa fa-calendar"></i>
    Apr 09, 2017
  
  </h2>

  <ul>
    

  

  

  

  
  <li><i class="fa-fw fa fa-folder-open"></i>
    
      
      <a href="../../blog/category/computerscience/">ComputerScience</a>
      
    </li>
  

  
  <li><i class="fa-fw fa fa-tag"></i>
    
      
      <a href="../../blog/tag/git/">git</a>
      
    </li>
  
  
  </ul>


<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/">About binwei</a></li>
</ul>


  <h3><a href="../../blog/">Recent Posts</a></h3>
  <ul>
    
    
      <li><a href="../vi_configuration-example/">Apr 08 - Vi: Configuration Example</a></li>
    
      <li><a href="../git_branch-continued/">Jan 30 - Git: Branch Continue</a></li>
    
      <li><a href="../git_branch-basic/">Jan 18 - Git: Branch Basic</a></li>
    
      <li><a href="../git_areas/">Jan 14 - Git: Areas</a></li>
    
      <li><a href="../git_getting-started/">Jan 11 - Git: Getting Started</a></li>
    
  </ul>

  <h3><a href="../../blog/tag/">Tags</a></h3>
  <style type="text/css">
    ul.ablog-cloud {list-style: none; overflow: auto;}
    ul.ablog-cloud li {float: left; height: 20pt; line-height: 18pt; margin-right: 5px;}
    ul.ablog-cloud a {text-decoration: none; vertical-align: middle;}
    li.ablog-cloud-1{font-size: 80%;}
    li.ablog-cloud-2{font-size: 95%;}
    li.ablog-cloud-3{font-size: 110%;}
    li.ablog-cloud-4{font-size: 125%;}
    li.ablog-cloud-5{font-size: 140%;}
  </style>
  <ul class="ablog-cloud">
    
      
      <li class="ablog-cloud ablog-cloud-5">
        <a href="../../blog/tag/git/">git</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/vi/">vi</a></li>
      
    
  </ul>

  <h3><a href="../../blog/category/">Categories</a></h3>
  <ul>
  
    
    <li><a href="../../blog/category/computerscience/">ComputerScience (6)</a></li>
    
  
  </ul>

  <h3><a href="../../blog/archive/">Archives</a></h3>
  <ul>
  
    
    <li><a href="../../blog/2017/">2017 (6)</a></li>
    
  
  </ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search/" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, binwei.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../../_sources/2017/git_resolve-conflicts.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>